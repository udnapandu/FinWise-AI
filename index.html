<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FinWise AI</title>

<style>
*{box-sizing:border-box}
html{scrollbar-gutter:stable}
body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  background:#f6f9ff;
  color:#111;
}
body.dark{background:#020617;color:#fff}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    linear-gradient(to right,rgba(0,0,0,.04) 1px,transparent 1px),
    linear-gradient(to bottom,rgba(0,0,0,.04) 1px,transparent 1px);
  background-size:48px 48px;
  z-index:-1;
}
body.dark::before{
  background:
    linear-gradient(to right,rgba(255,255,255,.08) 1px,transparent 1px),
    linear-gradient(to bottom,rgba(255,255,255,.08) 1px,transparent 1px);
}

.nav{
  position:sticky;top:0;z-index:10;
  background:rgba(255,255,255,.85);
  backdrop-filter:blur(12px);
}
body.dark .nav{background:rgba(2,6,23,.85)}
.nav-inner{
  max-width:1100px;margin:auto;
  padding:14px 20px;
  display:flex;justify-content:space-between;align-items:center;
}

.brand{display:flex;align-items:center;gap:10px;font-weight:700}
.logo-ai{
  width:34px;height:34px;
  stroke:#22c55e;fill:none;stroke-width:6;
  animation:float 3s ease-in-out infinite;
}
.logo-ai path,.logo-ai circle{
  stroke-dasharray:120;stroke-dashoffset:120;
  animation:draw 1.4s ease forwards;
}
@keyframes draw{to{stroke-dashoffset:0}}
@keyframes float{50%{transform:translateY(-6px)}}

.hero{text-align:center;padding:90px 20px 60px}
.hero h1{font-size:42px;margin:0}
.hero span{color:#22c55e}
.hero p{max-width:520px;margin:14px auto;color:#555}
body.dark .hero p{color:#cbd5f5}

.btn{
  height:54px;border:none;border-radius:16px;
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:#fff;font-weight:600;cursor:pointer;width:100%;
}

.app-wrapper{display:grid;place-items:center;padding:0 12px 60px}
.app{
  width:100%;max-width:420px;
  background:#fff;padding:22px;border-radius:26px;
  box-shadow:0 30px 80px rgba(0,0,0,.15);
}
body.dark .app{background:#1e293b}

.form-group{display:flex;flex-direction:column;gap:14px}
label{font-size:13px;font-weight:600}
input{
  height:54px;padding:0 16px;border-radius:16px;
  border:1.8px solid #d1d5db;
}
body.dark input{background:#020617;color:#fff;border-color:#475569}

input[type=range]{appearance:none;height:8px;background:#e5e7eb;border-radius:10px}
input[type=range]::-webkit-slider-thumb{
  appearance:none;width:22px;height:22px;border-radius:50%;background:#22c55e
}
.range-value{text-align:right;font-size:13px;color:#16a34a}

.bar{display:flex;height:18px;background:#e5e7eb;border-radius:10px;overflow:hidden}
.bar span{transition:.8s}
.exp{background:#ef4444}
.rem{background:#22c55e}

.score-box{
  margin-top:18px;background:#f1f8f4;
  padding:16px;border-radius:16px;text-align:center
}
body.dark .score-box{background:#020617}
.score{font-size:34px;font-weight:800}

.badge{
  margin-top:10px;display:inline-block;
  padding:6px 14px;border-radius:20px;
  font-size:12px;font-weight:700
}
.badge.healthy{background:#dcfce7;color:#166534}
.badge.pro{
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:#fff;box-shadow:0 0 14px rgba(34,197,94,.6)
}

.ring{
  width:130px;height:130px;margin:20px auto;border-radius:50%;
  background:conic-gradient(#22c55e 0deg,var(--deg),#e5e7eb var(--deg));
  display:flex;align-items:center;justify-content:center
}
.ring span{
  width:92px;height:92px;border-radius:50%;
  background:#fff;display:flex;align-items:center;justify-content:center;
  font-weight:700
}
body.dark .ring span{background:#020617}

canvas{
  width:100%;background:#fff;
  border-radius:14px;padding:10px
}
body.dark canvas{background:#020617}

.insight{
  margin-top:16px;background:#f9f9f9;
  padding:14px;border-left:4px solid #22c55e;
  border-radius:10px;white-space:pre-line
}
body.dark .insight{background:#020617}

.footer{text-align:center;font-size:12px;color:#777;padding:24px}
</style>
</head>

<body>

<nav class="nav">
  <div class="nav-inner">
    <div class="brand">
      <svg class="logo-ai" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="44"/>
        <path d="M28 58 L42 44 L54 52 L72 32"/>
        <circle cx="72" cy="32" r="4"/>
        <path d="M38 28 H62 M38 28 V72 M38 48 H56"/>
      </svg>
      <span>FinWise <b>AI</b></span>
    </div>
    <button class="btn" style="width:auto;padding:0 18px" onclick="toggleDark()">ðŸŒ™</button>
  </div>
</nav>

<section class="hero">
  <h1>Smart Finance with <span>AI</span></h1>
  <p>Simulasi dan rekomendasi finansial cerdas untuk masa depan yang lebih stabil.</p>
</section>

<div class="app-wrapper">
<div class="app">

<div class="form-group">
  <label>Penghasilan Bulanan</label>
  <input id="income" type="text" placeholder="Rp 5.000.000">

  <label>Pengeluaran (%)</label>
  <input id="percent" type="range" min="0" max="100" value="50">
  <div class="range-value" id="percentText">50%</div>

  <label>Target Keuangan</label>
  <input id="target" type="text" placeholder="Rp 10.000.000">

  <button class="btn" onclick="hitung()">Analisis</button>
</div>

<div class="bar" style="margin-top:20px">
  <span id="barExp" class="exp"></span>
  <span id="barRem" class="rem"></span>
</div>

<div style="display:flex;justify-content:space-between;margin-top:10px">
  <strong id="expNominal">Rp 0</strong>
  <strong id="remNominal">Rp 0</strong>
</div>

<div class="score-box">
  Financial Health Score
  <div class="score" id="score">â€“</div>
  <div id="badge"></div>
</div>

<div class="ring" id="ring" style="--deg:0deg">
  <span id="ringText">0%</span>
</div>

<div style="margin-top:20px">
  <strong>ðŸ“ˆ Proyeksi Tabungan 12 Bulan</strong>
  <canvas id="chart12" height="160"></canvas>
</div>

<div class="insight" id="insight"></div>

</div>
</div>

<div class="footer">Â© 2025 FinWise AI</div>

<script>
const income=document.getElementById("income");
const target=document.getElementById("target");
const percent=document.getElementById("percent");
const percentText=document.getElementById("percentText");
const barExp=document.getElementById("barExp");
const barRem=document.getElementById("barRem");
const expNominal=document.getElementById("expNominal");
const remNominal=document.getElementById("remNominal");
const score=document.getElementById("score");
const badge=document.getElementById("badge");
const ring=document.getElementById("ring");
const ringText=document.getElementById("ringText");
const insight=document.getElementById("insight");
const canvas=document.getElementById("chart12");
const ctx=canvas.getContext("2d");

function toggleDark(){document.body.classList.toggle("dark")}
function format(el){
  let v=el.value.replace(/\D/g,"");
  el.value=v.replace(/\B(?=(\d{3})+(?!\d))/g,".");
}
income.oninput=()=>format(income);
target.oninput=()=>format(target);
percent.oninput=()=>percentText.innerText=percent.value+"%";

function drawChart(data){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const w=canvas.width,h=canvas.height,p=30;
  const max=Math.max(...data,1);
  ctx.strokeStyle="#22c55e";ctx.lineWidth=2;
  ctx.beginPath();
  data.forEach((v,i)=>{
    const x=p+(i/11)*(w-p*2);
    const y=h-p-(v/max)*(h-p*2);
    i?ctx.lineTo(x,y):ctx.moveTo(x,y);
  });
  ctx.stroke();
}

function calculateSmartScore(income, expensePercent, saving, target){
  let score=0;
  const savingRate=saving/income;
  if(savingRate>=0.3)score+=40;
  else if(savingRate>=0.2)score+=30;
  else if(savingRate>=0.1)score+=20;
  else score+=10;

  if(expensePercent<=50)score+=30;
  else if(expensePercent<=65)score+=20;
  else score+=10;

  if(target&&saving>0){
    const months=target/saving;
    if(months<=12)score+=20;
    else if(months<=24)score+=10;
  }

  if(income<3000000)score-=10;
  return Math.max(0,Math.min(100,Math.round(score)));
}

function hitung(){
  const i=+income.value.replace(/\./g,"");
  const t=+target.value.replace(/\./g,"");
  const p=+percent.value;
  if(!i)return alert("Masukkan penghasilan");

  const exp=i*p/100,rem=i-exp;
  barExp.style.width=p+"%";
  barRem.style.width=(100-p)+"%";
  expNominal.innerText="Rp "+exp.toLocaleString("id-ID");
  remNominal.innerText="Rp "+rem.toLocaleString("id-ID");

  const s=calculateSmartScore(i,p,rem,t);
  score.innerText=s;
  ring.style.setProperty("--deg",s*3.6+"deg");
  ringText.innerText=s+"%";

  badge.className="badge";badge.innerText="";
  if(s>=80){badge.innerText="ðŸ† Financial Pro";badge.classList.add("pro")}
  else if(s>=60){badge.innerText="âœ… Financial Healthy";badge.classList.add("healthy")}

  let text=p>70
    ?"âŒ Keuangan tidak sehat.\nKurangi pengeluaran."
    :p>50
    ?"âš  Keuangan cukup seimbang.\nTingkatkan tabungan."
    :"ðŸŽ‰ Keuangan sehat.\nPertahankan pola ini!";

  if(t&&rem>0){
    text+=`\nðŸŽ¯ Target tercapai Â± ${Math.ceil(t/rem)} bulan.`;
  }

  insight.innerText=text;

  if(rem>0){
    let d=[],tot=0;
    for(let m=0;m<12;m++){tot+=rem;d.push(tot)}
    drawChart(d);
  }
}
</script>

</body>
</html>
